tags:
  - Choices
summary: Get aggregated choice statistics
description: Returns aggregated choice stats as a list of JSON objects (pick counts, win rates, and average run duration) for a given game.
parameters:
  - in: query
    name: game_id
    required: true
    type: string
    example: "G-12345"
    description: Unique identifier for the game.
  - in: query
    name: game_version
    required: true
    type: string
    example: "1.2.3"
    description: Game version identifier to filter runs.
responses:
  200:
    description: Choice statistics retrieved successfully
    schema:
      type: object
      properties:
        choices_stats:
          type: array
          items:
            type: object
            properties:
              choice_name:
                type: string
                example: "Fire Sword"
              items:
                type: object
                example:
                  options:
                    - "Magic Ball"
                    - "Fire Sword"
                    - "Spoon"
              total_picks:
                type: integer
                format: int32
                example: 120
              total_wins:
                type: integer
                format: int32
                example: 45
              win_rate_percentage:
                type: number
                format: float
                example: 37.5
              avg_duration_sec:
                type: number
                format: float
                example: 910.25
    examples:
      application/json:
        choices_stats:
          - choice_name: "Angel Feather"
            items:
              options:
                - "Demon Horn"
                - "Angel Feather"
            total_picks: 1
            total_wins: 1
            win_rate_percentage: 100.0
            avg_duration_sec: 1702.0
          - choice_name: "Fire Sword"
            items:
              options:
                - "Fire Sword"
                - "Magic Ball"
                - "Spoon"
            total_picks: 4
            total_wins: 3
            win_rate_percentage: 75.0
            avg_duration_sec: 1395.0
  400:
    description: Client Side Error
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Client Side Error"
        message:
          type: string
          example: "invalid input syntax for type uuid"
        type:
          type: string
          example: "InvalidTextRepresentation"
